<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/Companies.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: models/Companies.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* eslint-disable class-methods-use-this */

'use strict';

// ./admin/models/Companies.js
// Companies catalog

const { Model } = require('nap-db');

const companySchema = {
    tableName: 'companies',
    columns: [
        {
            name: 'company_id',
            type: 'varchar',
            length: 3,
            primary: true,
        },
        {
            name: 'company',
            type: 'varchar',
            length: 100,
            notNull: true,
        },
        {
            name: 'description',
            type: 'varchar',
            length: 255,
        },
        {
            name: 'tax_id',
            type: 'varchar',
            length: 15,
            notNull: true,
        },
        {
            name: 'active',
            type: 'boolean',
            notNull: true,
            default: true,
        },
        {
            name: 'address_1',
            type: 'varchar',
            length: 255,
            notNull: true,
        },
        {
            name: 'address_2',
            type: 'varchar',
            length: 255,
            default: '',
            useDefault: true,
        },
        {
            name: 'city',
            type: 'varchar',
            length: 255,
            notNull: true,
        },
        {
            name: 'region',
            type: 'varchar',
            length: 255,
            notNull: true,
        },
        {
            name: 'postal_code',
            type: 'varchar',
            length: 255,
            notNull: true,
        },
        {
            name: 'country',
            type: 'varchar',
            length: 255,
        },
    ],
};

/**
 * Companies - Models data in the companies table
 */
class Companies extends Model {
    static #cs;

    /**
     * Companies data model
     * @param {Object} db - {@link https://vitaly-t.github.io/pg-promise/Database.html pg-promise} database connection represented by class {@link DB}
     * @param {Object} pgp - {@link https://vitaly-t.github.io/pg-promise/module-pg-promise.html pg-promise} object
     * @param {Object} schema - Deep copy of companySChema to map columns
     */
    constructor(db, pgp, schema = JSON.parse(JSON.stringify(companySchema))) {
        super(db, pgp, schema);

        if (!Companies.#cs) {
            Companies.#cs = this.createColumnsets();
            super.setColumnsets(Companies.#cs);
        }
    }

    /**
     * Retrieves the ColumnSet object
     * @returns ColumnSet object associated with the data model
     */
    getColumnSet() {
        return Companies.#cs;
    }
}

module.exports = Companies;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">nap-accounting</a></h2><h3>Modules</h3><ul><li><a href="module-routers_accounts.html">routers/accounts</a></li><li><a href="module-routers_admin.html">routers/admin</a></li><li><a href="module-routers_classifications.html">routers/classifications</a></li><li><a href="module-routers_companies.html">routers/companies</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-routers_accounts-accountsRouter.html">accountsRouter</a></li><li><a href="module-routers_admin-adminRouter.html">adminRouter</a></li><li><a href="module-routers_classifications-classificationsRouter.html">classificationsRouter</a></li><li><a href="module-routers_companies-companiesRouter.html">companiesRouter</a></li></ul><h3>Classes</h3><ul><li><a href="Companies.html">Companies</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Jun 05 2023 02:09:20 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
